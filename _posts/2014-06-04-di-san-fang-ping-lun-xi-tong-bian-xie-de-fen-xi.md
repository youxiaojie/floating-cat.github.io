---
layout: post
title: 第三方评论系统编写的分析
date: "2014-06-07 21:00:00 +0800"
categories: 
  - programming
published: true
---

## 概要
这篇文章讲述的是编写一个 Disqus 类似的第三方评论系统前的准备分析。

## 浅析
使用 WordPress、Jekyll 之类方式搭建的博客网站，常使用第三方的评论系统来管理评论。为什么要使用第三方评论系统呢？当然理由有很多，比如说：

- 易于配置、方便管理。
- 搭建的是静态的博客网站。

通过在网页中插入一段由第三方评论系统提供的 JavaScript 脚本来与服务器的数据进行交互，获取评论数据、渲染页面等，就可以简单地实现页面的评论功能。

### 跨域
获取和提交评论，是通过 AJAX 与服务器交互实现的。而个人的网站与第三方评论系统的网站基本上是2个网址，所以实际无论是在获取还是提交评论上，我们都是在进行跨域访问，可以采用 CORS 之类的技术来跨域访问。

### 语言
在语言上，有很多的选择。开源的这类项目差不多是用 Python、Ruby 等语言来写的，比如说—— [Isso](https://github.com/posativ/isso)，语言使用 Python ，项目的吉祥物来自 口袋妖怪，总之非常萌！评论的页面很接近 GitHub 的回复风格，并且评论人的头像使用了 [Identicon](https://en.wikipedia.org/wiki/Identicon)。

主要语言采用 golang 是一个很好的选择，在编写服务器上方便又有效率。golang 的 Martini 框架也有提供了 CORS 的中间件，除此之外还要完成 JavaScript 的客户端代码。

采用 Dart 也是个不错的选择，因为 Dart 既可以完成客户端的 JavaScript 编写，又可以通过 `dart:io` 类库来实现服务器端，这对于不喜欢 JavaScript 或者希望减少项目复杂程度的人来说是个不错的想法。但是 Dart 的第三方的类库不够完善 （比如说 SQLite 库很久没人更新）给实际的编程中会带来麻烦。另外与其他语言相比 Dart 的 PaaS 不是很多，对于想通过 PaaS 来托管评论系统服务来说是个问题。

## 其他
实际的编程过程中可能还要完成一些其他的工作，比如 服务端验证网页源、响应式 之类的相关功能。